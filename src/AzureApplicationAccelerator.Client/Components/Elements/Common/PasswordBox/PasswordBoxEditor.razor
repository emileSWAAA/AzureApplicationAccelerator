@namespace AzureApplicationAccelerator.Client.Components.Elements

<FluentAccordionItem Heading="Constraints">
    <FluentIcon Value="@(new Icons.Regular.Size20.LockClosedRibbon())" Slot="start" Color="@Color.Neutral" />
    <RequiredConstraint @bind-Required="@Element.Constraints.Required" />
    <FluentTextField @bind-Value="Element.Constraints.Regex" Label="Regex" Id="passwordRegex" Style="width: 100%;" />
    <ValidationMessageConstraint @bind-ValidationMessage="@Element.Constraints.ValidationMessage" />
</FluentAccordionItem>

<FluentAccordionItem Heading="Options">

    <FluentCheckbox Label="Hide confirmation box" @bind-Value="@Element.Options.HideConfirmation" />
    <PropertyDescription>
        If checked, the confirmation password box will be hidden. The default value is false.
    </PropertyDescription>

    <FluentTextField TextFieldType="TextFieldType.Text"
                     Label="Password Label"
                     Name="@Element.Name"
                     @bind-Value="Element.Label.Password"
                     Style="width: 100%;" />
    <PropertyDescription>
        The label text displayed for the password input field. Default is "Password".
    </PropertyDescription>

    @if (!(Element.Options?.HideConfirmation ?? false))
    {
        <FluentTextField TextFieldType="TextFieldType.Text"
                             Label="Confirm password"
                             Name="@($"{Element.Name}_confirm")"
                            @bind-Value="Element.Label.ConfirmPassword"
                             Style="width: 100%;" />
        <PropertyDescription>
            The label text displayed for the confirmation password input field. Default is "Confirm password". This field is only shown when confirmation is enabled.
        </PropertyDescription>
    }
</FluentAccordionItem>

@code {
    [Parameter] public PasswordBoxElement Element { get; set; } = default!;
}