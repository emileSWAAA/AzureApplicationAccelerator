@using AzureApplicationAccelerator.Elements.Models.Elements

<FluentStack>
    <FluentInputFile @ref="@_inputFile"
                     Label="@Element.Label"
                     Name="@Element.Name"
                     Required="@(Element.Constraints?.Required ?? false)" />
</FluentStack>

@code {

    private FluentInputFile _inputFile = default!;
    private string _acceptedFileTypes = string.Empty;

    [Parameter] public FileUploadElement Element { get; set; } = default!;

    protected override Task OnInitializedAsync()
    {
        if (Element?.Constraints?.AcceptFileTypes?.Any() == true)
        {
            _inputFile.Accept = string.Join(",", Element.Constraints.AcceptFileTypes);
        }

        return base.OnInitializedAsync();
    }
}
